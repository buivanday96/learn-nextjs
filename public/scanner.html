<!DOCTYPE html>
<html>
<title>example_js</title>
<link rel="icon" type="image/png" href="favicon.ico"/>
 
  
<body style='margin : 0px; overflow: hidden;'>
<script src="https://aframe.io/releases/1.0.0/aframe.min.js" ></script>
<script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js" ></script>
<script>

// var scene = document.querySelector('a-scene');

// if (scene.hasLoaded) {
//   run();
// } else {
//   scene.addEventListener('loaded', run);
// }

// function run () {
//   console.log('Running scene...');
//   document.getElementsByTagName("body")[0].style.position = null;
//  // document.getElementsByTagName("body")[0].style.position = null;

// }

AFRAME.registerComponent('registerevents', {
  
    init: function () 
    {
        let marker = this.el;

        console.log('heloo' + marker);

        marker.addEventListener('markerFound', function() {
        
            //  document.getElementById("div-scene").disabled = true;

            // const video = document.querySelector('video');

            // // A video's MediaStream object is available through its srcObject attribute
            // const mediaStream = video.srcObject;

            //     // Through the MediaStream, you can get the MediaStreamTracks with getTracks():
            // const tracks = mediaStream.getTracks();

            //     // Tracks are returned as an array, so if you know you only have one, you can stop it with: 
            // tracks[0].stop();

            // var flt = document.getElementsByTagName('flt-glass-pane');
            // for (var i = 0; i < flt.length; i++) {
            //     flt[i].style.position = 'absolute';
            // }   

           // document.getElementsByTagName("body")[0].style.position = null;


        });

        marker.addEventListener('markerLost', function() {
           
        });
    },

    update: function() {
      console.log('My component was updated');
    },
    tick: function() {
    //   console.log('My component is ticking');
    }
});

</script>

  
<!-- set detectionMode and matrixCodeType to enable barcode marker detection and custom pattern files -->

<div id="div-scene">
    <a-scene embedded vr-mode-ui="enabled: false;" arjs="debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;trackingMethod: best; sourceWidth:1280; sourceHeight:960; displayWidth: 1280; displayHeight: 960;">
        <a-marker type="pattern" url="/pattern_ss_logo_3.patt" registerevents>
            <a-box position="0 0.5 0" 
                   material="color: red; transparent: true; opacity: 0.0;">
            </a-box>
        </a-marker>
        
    </a-scene>
</div>


</body>
</html> 